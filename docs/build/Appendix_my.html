

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Appendix 1 The Benchmarking System &mdash; FedEval 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/my.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FedEval
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Install.html">1. Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickStart.html">2. Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configs.html">3. Configs</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendixs of the paper</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Appendix.html">Appendix 1 The Benchmarking System</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix.html#appendix-2-datasets-and-hardware">Appendix 2 Datasets and Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix.html#appendix-3-tuning-the-optimizer-and-learning-rate">Appendix 3 Tuning the Optimizer and Learning Rate</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix.html#appendix-4-grid-search-on-fedavg">Appendix 4 Grid Search on FedAvg</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FedEval</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Appendix 1 The Benchmarking System</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Appendix_my.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="appendix-1-the-benchmarking-system">
<h1>Appendix 1 The Benchmarking System<a class="headerlink" href="#appendix-1-the-benchmarking-system" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/bm_system.png"><img alt="The framework of the benchmarking system" src="_images/bm_system.png" style="width: 60%;" /></a>
<p class="caption"><span class="caption-text">The framework of the benchmarking system</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>Having motivated the need for an easy-to-use and lightweight benchmarking system, we propose a federated benchmarking system shown in this figure. The system contains the following three steps:</p>
<ul class="simple">
<li><p><strong>Step 1:</strong> Distribute the data to all clients, where different strategies can be applied to generate IID or non-IID data.</p></li>
<li><p><strong>Step 2:</strong> Provide the training scripts and distribute the codes to all the clients.</p></li>
<li><p><strong>Step 3:</strong> Training the model. The ACTPR evaluation model will run automatically in this step.</p></li>
</ul>
<p>We used the docker container technology to simulate the server and clients. The isolation between different containers guarantees that our simulation can reflect the real-world application. All the benchmark system is open-sourced, and four benchmark FL datasets are included in the system. Thus researches can implement their new idea and evaluate with ACTPR model very quickly.</p>
</div>
<div class="section" id="appendix-2-datasets-and-hardware">
<h1>Appendix 2 Datasets and Hardware<a class="headerlink" href="#appendix-2-datasets-and-hardware" title="Permalink to this headline">¶</a></h1>
<p>Four datasets are used in the experiments: <a class="reference external" href="http://yann.lecun.com/exdb/mnist">MNIST</a>, <a class="reference external" href="https://www.cs.toronto.edu/~kriz/cifar.html">CIFAR-10</a>, <a class="reference external" href="https://github.com/TalwalkarLab/leaf#datasets">FEMNIST</a>, <a class="reference external" href="https://github.com/TalwalkarLab/leaf#datasets">CelebA</a>. We perform the classification task on all datasets. FEMNIST is an extended MNIST dataset based on handwritten digits and characters. CelebA builds on the Large-scale CelebFaces Attributes Dataset, and we use the <em>smiling</em> label as the classification target. For the non-IID evaluation, we use different strategies. In MNIST and CIFAR-10, we simulate non-IID by restricting the number of clients’ local image classes. Experiments of each client has 1,2​ and 3 classes are reported. In FEMNIST and CelebA, we have the identity of who generates the data. Thus we partition the data naturally based on the identity, and perform a random shuffle for IID setting.</p>
<p>On average, each client holds 300 images on MNIST and CIFAR-10 datasets, 137 images on the FEMNIST dataset, and 24 images on the CelebA dataset. At each client, we randomly select 80%, 10%, and 10% for training, validation, and testing.</p>
<p>All the experiments run on a cluster of three machines. One machine with Intel(R) Xeon(R) E5-2620 32-core 2.10GHz CPU, 378GB RAM, and two machines with Intel(R) Xeon(R) E5-2630 24-core 2.6GHz CPU, 63GB RAM. We put the server on the first machine and 40, 30, 30 clients on three machines, respectively.</p>
</div>
<div class="section" id="appendix-3-tuning-optimizer-and-lr">
<h1>Appendix 3 Tuning Optimizer and LR<a class="headerlink" href="#appendix-3-tuning-optimizer-and-lr" title="Permalink to this headline">¶</a></h1>
<div class="section" id="results-of-tuning-the-optimizers">
<h2>Results of tuning the optimizers<a class="headerlink" href="#results-of-tuning-the-optimizers" title="Permalink to this headline">¶</a></h2>
<p>The following table show the results of FL accuracy when we vary the learning rate (lr) and optimizers. The experiments are performed on MNIST and FEMNIST datasets, using MLP and LeNet model, FedSGD and FedAvg FL schemas. Among these three optimizers, <a href="#id1"><span class="problematic" id="id2">**</span></a>Adam can achieve the best accuracy more frequently, and Adam is more robust given different lr.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/optimizer.png"><img alt="The framework of the benchmarking system" src="_images/optimizer.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="results-of-tuning-the-learning-rate-lr">
<h2>Results of tuning the learning rate (LR)<a class="headerlink" href="#results-of-tuning-the-learning-rate-lr" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/lr.png"><img alt="The framework of the benchmarking system" src="_images/lr.png" style="width: 60%;" /></a>
</div>
</div>
</div>
<div class="section" id="appendix-4-grid-search-on-fedavg">
<h1>Appendix 4 Grid Search on FedAvg<a class="headerlink" href="#appendix-4-grid-search-on-fedavg" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="fedavg_grid_search.html">FEMNIST LeNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="fedavg_grid_search.html#mnist-mlp">MNIST MLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="fedavg_grid_search.html#mnist-lenet">MNIST LeNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="fedavg_grid_search.html#celeba-lenet">Celeba LeNet</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, anonymous

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>